@font-face {
  font-family: 'Outfit';
  src: url('/fonts/Outfit-Regular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/* Define the color variables for light and dark themes */
:root {
  color-scheme: light dark;
  --color-primary: light-dark(#3B6A1C, #A0D57B);
  --color-on-primary: light-dark(#FFFFFF, #163800);
  --color-primary-container: light-dark(#BBF294, #245103);
  --color-on-primary-container: light-dark(#0A2100, #BBF294);
  --color-inverse-primary: light-dark(#A0D57B, #3B6A1C);
  --color-secondary: light-dark(#56624B, #BDCBAF);
  --color-on-secondary: light-dark(#FFFFFF, #283420);
  --color-secondary-container: light-dark(#D9E7CA, #3E4A35);
  --color-on-secondary-container: light-dark(#141E0C, #D9E7CA);
  --color-tertiary: light-dark(#386666, #A0CFCE);
  --color-on-tertiary: light-dark(#FFFFFF, #003737);
  --color-tertiary-container: light-dark(#BBECEB, #1E4E4E);
  --color-on-tertiary-container: light-dark(#002020, #BBECEB);
  --color-background: light-dark(#F9F9F9, #131313);
  --color-on-background: light-dark(#1B1B1B, #E2E2E2);
  --color-surface: light-dark(#F9F9F9, #131313);
  --color-on-surface: light-dark(#1B1B1B, #E2E2E2);
  --color-surface-variant: light-dark(#E2E2E2, #474747);
  --color-on-surface-variant: light-dark(#474747, #C6C6C6);
  --color-surface-tint: light-dark(#3B6A1C, #A0D57B);
  --color-inverse-surface: light-dark(#131313, #F9F9F9);
  --color-inverse-on-surface: light-dark(#E2E2E2, #1B1B1B);
  --color-error: light-dark(#B3261E, #F2B8B5);
  --color-on-error: light-dark(#FFFFFF, #601410);
  --color-error-container: light-dark(#F9DEDC, #8C1D18);
  --color-on-error-container: light-dark(#410E0B, #F9DEDC);
  --color-outline: light-dark(#777777, #919191);
  --color-outline-variant: light-dark(#C6C6C6, #474747);
  --color-scrim: light-dark(#000000, #000000);
  --color-surface-bright: light-dark(#F9F9F9, #393939);
  --color-surface-dim: light-dark(#DADADA, #131313);
  --color-surface-container-lowest: light-dark(#EFF2EE, #1A1D18);
  --color-surface-container-low: light-dark(#E9EDE7, #1F231C);
  --color-surface-container: light-dark(#E5EAE2, #22281E);
  --color-surface-container-high: light-dark(#E3E8DF, #242A1F);
  --color-surface-container-highest: light-dark(#DFE5DB, #262E21);

  --color-delete-action: light-dark(#c3625d, #c3625d);
  --color-on-delete-action: light-dark(#facccc, #facccc);
  --color-undo-action: light-dark(#6386d0, #6386d0);
  --color-on-undo-action: light-dark(#c4d4f7, #c4d4f7);
}

/* Idea from https://web.dev/articles/light-dark */
:root {
  &:has(.system) {
    color-scheme: light dark;
  }

  &:has(.light) {
    color-scheme: light;
  }

  &:has(.dark) {
    color-scheme: dark;
  }
}

body {
  margin: 0;
  padding: 0;
  font-family: "Outfit", sans-serif;
  background-color: var(--color-surface-container-low);
  color: var(--color-on-surface);
}

main {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 16px
}

.filterActionWrapper {
  padding: 24px 0;
  display: flex;
  justify-content: center;
}

.timeSyncWrapper {
  padding: 8px 24px 0 24px;
  background-color: var(--color-surface);
  color: var(--color-on-surface);
  border-radius: 24px;

  h3 {
    color: var(--color-primary);
  }

  .actions {
    padding: 24px 0;
    display: flex;
    justify-content: flex-end;
    gap: 8px;
  }
}


.regexFilterWrapper {
  padding: 8px 24px 0 24px;
  background-color: var(--color-surface);
  color: var(--color-on-surface);
  border-radius: 24px;

  h3 {
    color: var(--color-primary);
  }

  .actions {
    padding: 24px 0;
    display: flex;
    justify-content: flex-end;
    gap: 8px;
  }
}


.lineList {
  margin: 0;
  padding: 0;
  list-style: none;

  .linePreview {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--color-surface);
    color: var(--color-on-surface);
    font-size: .85em;
    overflow: hidden;
    padding: 8px 16px;
    margin-bottom: 2px;
    cursor: pointer;
    position: relative;

    &.removed::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 2px;
      background-color: #ff4c45;
    }

    &.modified::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 2px;
      background-color: #ffa939;
    }

    &:first-child {
      border-start-start-radius: 24px;
      border-start-end-radius: 24px;
    }

    &:last-child {
      border-end-start-radius: 24px;
      border-end-end-radius: 24px;
      /* give lineEditor space */
      margin-bottom: 250px;
    }

    &:hover {
      background-color: var(--color-surface-variant);
      color: var(--color-on-surface);
    }

    &.selected {
      background-color: var(--color-secondary);
      color: var(--color-on-secondary);

      .info {
        color: color-mix(in srgb, currentColor 70%, var(--color-secondary));
      }
    }

    .lineContent {
      /* This will block the text from pushing our
       actions outside the container as it grows */
      min-width: 0;

      .info {
        color: color-mix(in srgb, currentColor 70%, var(--color-surface));

        .timestamp {
          font-size: 1.2em;
          font-family: monospace;
          margin: 0 8px
        }
      }

      .content {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: pre;
        font-size: 1.2em;
      }
    }

    .lineActions {
      display: flex;
      gap: 4px;

      .actionDelete {
        background-color: transparent;
        color: var(--color-delete-action);

        &:hover {
          color: var(--color-on-delete-action);
          background-color: var(--color-delete-action);
        }
      }

      .actionApply,
      .actionUndo {
        background-color: transparent;
        color: var(--color-undo-action);

        &:hover {
          background-color: var(--color-undo-action);
          color: var(--color-on-undo-action);
        }
      }
    }
  }
}

.matchHighlight {
  padding: 0 2px;
  border-radius: 4px;

  &:has(+ .matchHighlight) {
    border-start-end-radius: 0px;
    border-end-end-radius: 0px;
  }

  +.matchHighlight {
    border-start-start-radius: 0px;
    border-end-start-radius: 0px;
  }

  &.cc {
    background-color: #ff6961;
    color: black;
  }

  &.lyrics {
    background-color: #3A6ACB;
    color: black;
  }

  &.cc.lyrics {
    background-color: #de83f5;
    color: black;
  }
}